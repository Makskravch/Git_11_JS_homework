<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- <script src="src/script.js"></script> -->
</head>

<body>
    <input type="text" placeholder="Enter car brand"><br>
    <input type="number" placeholder="Enter tank volume"><br>
    <input type="number" placeholder="Enter current number of liters"><br>
    <input type="number" placeholder="Enter the number of places"><br>
    <input type="number" placeholder="Enter the number of passengers"><br>
    <input id="addAuto" type="button" value="Add auto">

    <div id="container"></div>

    <script>
        class Auto {

            constructor(brand, volumeTank, currentNumberLiters, numberSeats, numberPassengers) {
                this.brand = brand;
                this.volumeTank = volumeTank;
                this.currentNumberLiters = currentNumberLiters;
                this.numberSeats = numberSeats;
                this.numberPassengers = numberPassengers;
            }

            toString() {
                return `Brand: ${this.brand}, Volume tank: ${this.volumeTank}, Current number liters: ${this.currentNumberLiters}, Number seats: ${this.numberSeats}, Number passengers: ${this.numberPassengers}`;
            }

            refueling(quantityFuel) {
                if (quantityFuel + this.currentNumberLiters > this.volumeTank) {
                    throw new Error('Not enough storage');
                }
                this.currentNumberLiters += quantityFuel;
            }

            getNumberPassengers() {
                return this.numberPassengers;
            }

            addPassengers(passengers) {
                if (this.numberPassengers + passengers > this.numberSeats) {
                    throw new Error('No place');
                }
                this.numberPassengers += passengers;
            }

            disembarkationPassengers(passengers) {
                if (passengers > this.numberPassengers) {
                    throw new Error('Lost passengers');
                }
                this.numberPassengers -= passengers;
            }
        }

        function createAuto() {
            let inputArr = document.querySelectorAll('input');
            let brand;
            let volumeTank;
            let currentNumberLiters;
            let numberSeats;
            let numberPassengers;

            for (let i = 0; i < inputArr.length; i++) {
                brand = inputArr[0].value;
                volumeTank = +inputArr[1].value;
                currentNumberLiters = +inputArr[2].value;
                numberSeats = +inputArr[3].value;
                numberPassengers = +inputArr[4].value;
            }

            var auto = new Auto(brand, volumeTank, currentNumberLiters, numberSeats, numberPassengers);

            render(auto);
            createNewFields();
        }

        function refuelingAuto(auto) {          // Does not work!!!
            let volume = parseInt(document.getElementById('newInp').value);
            // auto.refueling(volume);
            // render(auto);
        }

        function render(auto) {
            let div = document.getElementById('container');
            let p = document.createElement('p');
            p.id = 'p';
            p.innerText = auto.toString();
            div.appendChild(p);
        }

        function createNewFields() {
            let div = document.getElementById('container');

            let input = document.createElement('input');
            input.id = 'newInp';
            input.type = 'number';
            let btnRefueling = document.createElement('button');
            btnRefueling.id = 'btnRefueling';
            btnRefueling.innerText = 'Refueling';
            let getNumberPassengers = document.createElement('button');
            getNumberPassengers.id = 'getNumberPassengers';
            getNumberPassengers.innerText = 'Get passengers';
            let addPassengers = document.createElement('button');
            addPassengers.id = 'addPassengers';
            addPassengers.innerText = 'Get passengers';
            let disembarkationPassengers = document.createElement('button');
            disembarkationPassengers.id = 'disembarkationPassengers';
            disembarkationPassengers.innerText = 'Get passengers';

            div.appendChild(input);
            div.appendChild(btnRefueling);
            div.appendChild(getNumberPassengers);
            div.appendChild(addPassengers);
            div.appendChild(disembarkationPassengers);
        }


        window.onclick = function () {
            document.getElementById('addAuto').onclick = createAuto;
            document.getElementById('btnRefueling').onclick = refuelingAuto;
        }
    </script>
</body>

</html>